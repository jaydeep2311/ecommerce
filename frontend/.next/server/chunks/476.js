exports.id=476,exports.ids=[476],exports.modules={9530:(e,t,r)=>{"use strict";r.d(t,{vz:()=>d,Wn:()=>h,LR:()=>u,Cs:()=>x,Sn:()=>m});var s=r(8693),a=r(54050),o=r(71114);let n={login:async e=>(await o.Ay.post("/auth/login",e)).data,register:async e=>(await o.Ay.post("/auth/register",e)).data,updateDetails:async e=>(await o.Ay.put("/auth/updatedetails",e)).data,updatePassword:async e=>(await o.Ay.put("/auth/updatepassword",e)).data,logout:async()=>(await o.Ay.get("/auth/logout")).data};var l=r(42243),i=r(16189),c=r(37590);let d=()=>{let{login:e}=(0,l.BG)(),t=(0,i.useRouter)(),r=(0,s.jE)();return(0,a.n)({mutationFn:n.login,onSuccess:s=>{e(s.data,s.token),r.setQueryData(["auth","me"],{success:!0,data:s.data}),c.oR.success("Login successful!"),t.push("/")},onError:e=>{let t=e.response?.data?.message||"Login failed";c.oR.error(t)}})},u=()=>{let{login:e}=(0,l.BG)(),t=(0,i.useRouter)(),r=(0,s.jE)();return(0,a.n)({mutationFn:n.register,onSuccess:s=>{e(s.data,s.token),r.setQueryData(["auth","me"],{success:!0,data:s.data}),c.oR.success("Registration successful!"),t.push("/")},onError:e=>{let t=e.response?.data?.message||"Registration failed";c.oR.error(t)}})},h=()=>{let{logout:e}=(0,l.BG)(),t=(0,i.useRouter)(),r=(0,s.jE)();return(0,a.n)({mutationFn:n.logout,onSuccess:()=>{e(),r.clear(),c.oR.success("Logged out successfully"),t.push("/")},onError:()=>{e(),r.clear(),t.push("/")}})},m=()=>{let{updateUser:e}=(0,l.BG)(),t=(0,s.jE)();return(0,a.n)({mutationFn:n.updateDetails,onSuccess:r=>{e(r.data),t.setQueryData(["auth","me"],{success:!0,data:r.data}),c.oR.success("Profile updated successfully!")},onError:e=>{let t=e.response?.data?.message||"Update failed";c.oR.error(t)}})},x=()=>(0,a.n)({mutationFn:n.updatePassword,onSuccess:()=>{c.oR.success("Password updated successfully!")},onError:e=>{let t=e.response?.data?.message||"Password update failed";c.oR.error(t)}})},21891:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var s=r(60687),a=r(43210),o=r(85814),n=r.n(o),l=r(42243),i=r(96804),c=r(9530);function d(){let[e,t]=(0,a.useState)(!1),[r,o]=(0,a.useState)(!1),{user:d,isAuthenticated:u,isAdmin:h}=(0,l.As)(),{data:m}=(0,i._)(),x=(0,c.Wn)(),p=m?.data?.totalItems||0,g=(0,a.useRef)(null),y=()=>{x.mutate()};return(0,s.jsx)("header",{className:"bg-white shadow-md sticky top-0 z-50",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(n(),{href:"/",className:"text-2xl font-bold text-blue-600",children:"E-Shop"})}),(0,s.jsxs)("nav",{className:"hidden md:flex space-x-8",children:[(0,s.jsx)(n(),{href:"/",className:"text-gray-700 hover:text-blue-600 transition-colors",children:"Home"}),u&&(0,s.jsx)(n(),{href:"/products",className:"text-gray-700 hover:text-blue-600 transition-colors",children:"Products"}),h&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n(),{href:"/dashboard",className:"text-gray-700 hover:text-blue-600 transition-colors",children:"Dashboard"}),(0,s.jsxs)("div",{className:"relative",ref:g,children:[(0,s.jsxs)("button",{onClick:()=>o(!r),className:"text-gray-700 hover:text-blue-600 transition-colors flex items-center",children:["Admin",(0,s.jsx)("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&(0,s.jsxs)("div",{className:"absolute left-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:[(0,s.jsx)(n(),{href:"/products/manage",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>o(!1),children:"Manage Products"}),(0,s.jsx)(n(),{href:"/orders/manage",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>o(!1),children:"Manage Orders"}),(0,s.jsx)(n(),{href:"/admin/users",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>o(!1),children:"Manage Users"}),(0,s.jsx)(n(),{href:"/products/add",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>o(!1),children:"Add Product"})]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[u&&!h&&(0,s.jsxs)(n(),{href:"/cart",className:"relative p-2 text-gray-700 hover:text-blue-600 transition-colors",children:[(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.5 6M7 13l-1.5 6m0 0h9m-9 0h9"})}),p>0&&(0,s.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:p})]}),u?(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:()=>t(!e),className:"flex items-center space-x-2 text-gray-700 hover:text-blue-600 transition-colors",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-medium",children:d?.name?.charAt(0).toUpperCase()}),(0,s.jsx)("span",{className:"hidden md:block",children:d?.name})]}),e&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:[(0,s.jsx)(n(),{href:"/user-dashboard",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>t(!1),children:"Dashboard"}),(0,s.jsx)(n(),{href:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>t(!1),children:"Profile"}),(0,s.jsx)(n(),{href:"/orders",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>t(!1),children:"Orders"}),(0,s.jsx)("button",{onClick:y,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Logout"})]})]}):(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(n(),{href:"/auth/login",className:"px-4 py-2 text-blue-600 border border-blue-600 rounded-lg hover:bg-blue-50 transition-colors",children:"Login"}),(0,s.jsx)(n(),{href:"/auth/register",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Register"})]}),(0,s.jsx)("button",{onClick:()=>t(!e),className:"md:hidden p-2 text-gray-700 hover:text-blue-600",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),e&&(0,s.jsx)("div",{className:"md:hidden py-4 border-t border-gray-200",children:(0,s.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,s.jsx)(n(),{href:"/",className:"text-gray-700 hover:text-blue-600 py-2",onClick:()=>t(!1),children:"Home"}),u&&(0,s.jsx)(n(),{href:"/products",className:"text-gray-700 hover:text-blue-600 py-2",onClick:()=>t(!1),children:"Products"}),u?(0,s.jsxs)(s.Fragment,{children:[!h&&(0,s.jsxs)(n(),{href:"/cart",className:"text-gray-700 hover:text-blue-600 py-2 flex items-center",onClick:()=>t(!1),children:[(0,s.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.5 6M7 13l-1.5 6m0 0h9m-9 0h9"})}),"Cart ",p>0&&`(${p})`]}),(0,s.jsx)(n(),{href:"/user-dashboard",className:"text-gray-700 hover:text-blue-600 py-2",onClick:()=>t(!1),children:"Dashboard"}),(0,s.jsx)(n(),{href:"/profile",className:"text-gray-700 hover:text-blue-600 py-2",onClick:()=>t(!1),children:"Profile"}),(0,s.jsx)(n(),{href:"/orders",className:"text-gray-700 hover:text-blue-600 py-2",onClick:()=>t(!1),children:"My Orders"}),h&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"border-t border-gray-200 my-2"}),(0,s.jsx)(n(),{href:"/dashboard",className:"text-gray-700 hover:text-blue-600 py-2",onClick:()=>t(!1),children:"Dashboard"}),(0,s.jsx)(n(),{href:"/products/manage",className:"text-gray-700 hover:text-blue-600 py-2 pl-4",onClick:()=>t(!1),children:"Manage Products"}),(0,s.jsx)(n(),{href:"/orders/manage",className:"text-gray-700 hover:text-blue-600 py-2 pl-4",onClick:()=>t(!1),children:"Manage Orders"}),(0,s.jsx)(n(),{href:"/admin/users",className:"text-gray-700 hover:text-blue-600 py-2 pl-4",onClick:()=>t(!1),children:"Manage Users"}),(0,s.jsx)(n(),{href:"/products/add",className:"text-gray-700 hover:text-blue-600 py-2 pl-4",onClick:()=>t(!1),children:"Add Product"})]}),(0,s.jsx)("div",{className:"border-t border-gray-200 my-2"}),(0,s.jsx)("button",{onClick:()=>{y(),t(!1)},className:"text-left text-red-600 hover:text-red-800 py-2",children:"Logout"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"border-t border-gray-200 my-2"}),(0,s.jsx)(n(),{href:"/auth/login",className:"text-blue-600 hover:text-blue-800 py-2",onClick:()=>t(!1),children:"Login"}),(0,s.jsx)(n(),{href:"/auth/register",className:"bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-center",onClick:()=>t(!1),children:"Register"})]})]})})]})})}},23531:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,16444,23)),Promise.resolve().then(r.t.bind(r,16042,23)),Promise.resolve().then(r.t.bind(r,88170,23)),Promise.resolve().then(r.t.bind(r,49477,23)),Promise.resolve().then(r.t.bind(r,29345,23)),Promise.resolve().then(r.t.bind(r,12089,23)),Promise.resolve().then(r.t.bind(r,46577,23)),Promise.resolve().then(r.t.bind(r,31307,23))},42243:(e,t,r)=>{"use strict";r.d(t,{As:()=>n,BG:()=>l,nc:()=>o});var s=r(26787),a=r(59350);let o=(0,s.v)()((0,a.Zr)((e,t)=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null,setUser:t=>{e({user:t,isAuthenticated:!0})},setToken:t=>{e({token:t})},login:(t,r)=>{e({user:t,token:r,isAuthenticated:!0,error:null})},logout:()=>{e({user:null,token:null,isAuthenticated:!1,error:null})},setLoading:t=>{e({isLoading:t})},setError:t=>{e({error:t})},clearError:()=>{e({error:null})},updateUser:r=>{let s=t().user;s&&e({user:{...s,...r}})}}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated})})),n=()=>{let e=o();return{user:e.user,token:e.token,isAuthenticated:e.isAuthenticated,isLoading:e.isLoading,error:e.error,isAdmin:e.user?.role==="admin",isUser:e.user?.role==="user"}},l=()=>{let e=o();return{setUser:e.setUser,setToken:e.setToken,login:e.login,logout:e.logout,setLoading:e.setLoading,setError:e.setError,clearError:e.clearError,updateUser:e.updateUser}}},45851:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var s=r(60687),a=r(39091),o=r(8693),n=r(9124),l=r(43210);function i({children:e}){let[t]=(0,l.useState)(()=>new a.E({defaultOptions:{queries:{staleTime:3e5,gcTime:6e5,retry:(e,t)=>!(t?.response?.status>=400&&t?.response?.status<500)&&e<3,refetchOnWindowFocus:!1},mutations:{retry:!1}}}));return(0,s.jsxs)(o.Ht,{client:t,children:[e,(0,s.jsx)(n.E,{initialIsOpen:!1})]})}},60977:(e,t,r)=>{Promise.resolve().then(r.bind(r,37590)),Promise.resolve().then(r.bind(r,45851))},61135:()=>{},61649:(e,t,r)=>{Promise.resolve().then(r.bind(r,5625)),Promise.resolve().then(r.bind(r,82113))},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},71114:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>a});let s=r(51060).A.create({baseURL:"https://ecommerce-00bz.onrender.com/api",timeout:1e4,headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>e,e=>Promise.reject(e)),s.interceptors.response.use(e=>e,e=>(e.response?.status,Promise.reject(e)));let a=s},78370:(e,t,r)=>{"use strict";r.d(t,{z:()=>a});var s=r(71114);let a={getCart:async()=>(await s.Ay.get("/cart")).data,addToCart:async e=>(await s.Ay.post("/cart/items",e)).data,updateCartItem:async(e,t)=>(await s.Ay.put(`/cart/items/${e}`,t)).data,removeFromCart:async e=>(await s.Ay.delete(`/cart/items/${e}`)).data,clearCart:async()=>(await s.Ay.delete("/cart")).data,validateCart:async()=>(await s.Ay.get("/cart/validate")).data}},82113:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Acer\\\\Desktop\\\\ecommerce\\\\frontend\\\\src\\\\providers\\\\QueryProvider.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Acer\\Desktop\\ecommerce\\frontend\\src\\providers\\QueryProvider.tsx","default")},94431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u,metadata:()=>d});var s=r(37413),a=r(22376),o=r.n(a),n=r(68726),l=r.n(n);r(61135);var i=r(82113),c=r(5625);let d={title:"E-Commerce Platform",description:"Modern e-commerce platform with role-based access control"};function u({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:`${o().variable} ${l().variable} antialiased`,children:(0,s.jsxs)(i.default,{children:[e,(0,s.jsx)(c.Toaster,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})})})}},96804:(e,t,r)=>{"use strict";r.d(t,{_:()=>n});var s=r(51423),a=r(78370),o=r(42243);let n=()=>{let{token:e}=(0,o.nc)();return(0,s.I)({queryKey:["cart"],queryFn:a.z.getCart,enabled:!!e,staleTime:6e4})}},99555:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,86346,23)),Promise.resolve().then(r.t.bind(r,27924,23)),Promise.resolve().then(r.t.bind(r,35656,23)),Promise.resolve().then(r.t.bind(r,40099,23)),Promise.resolve().then(r.t.bind(r,38243,23)),Promise.resolve().then(r.t.bind(r,28827,23)),Promise.resolve().then(r.t.bind(r,62763,23)),Promise.resolve().then(r.t.bind(r,97173,23))}};