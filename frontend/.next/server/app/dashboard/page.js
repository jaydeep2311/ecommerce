(()=>{var e={};e.id=105,e.ids=[105],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6509:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>o});var r=t(65239),a=t(48088),d=t(88170),n=t.n(d),l=t(30893),i={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);t.d(s,i);let o={children:["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,80559)),"C:\\Users\\Acer\\Desktop\\ecommerce\\frontend\\src\\app\\dashboard\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"C:\\Users\\Acer\\Desktop\\ecommerce\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\Acer\\Desktop\\ecommerce\\frontend\\src\\app\\dashboard\\page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20769:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var r=t(60687);t(43210);var a=t(16189),d=t(42243);function n({children:e,requireAuth:s=!0,requireAdmin:t=!1,redirectTo:n="/auth/login"}){let{isAuthenticated:l,isAdmin:i}=(0,d.As)();return((0,a.useRouter)(),s&&!l)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):t&&!i?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),(0,r.jsx)("p",{className:"text-gray-600",children:"You dont have permission to access this page."})]})}):(0,r.jsx)(r.Fragment,{children:e})}},21384:(e,s,t)=>{Promise.resolve().then(t.bind(t,43455))},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},43455:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>h});var r=t(60687),a=t(43210),d=t(85814),n=t.n(d),l=t(21891),i=t(20769),o=t(51423),c=t(71114);let m={getDashboardAnalytics:async(e={})=>{let s=new URLSearchParams;return Object.entries(e).forEach(([e,t])=>{t&&s.append(e,t)}),(await c.Ay.get(`/analytics/dashboard?${s.toString()}`)).data},getSalesAnalytics:async(e={})=>{let s=new URLSearchParams;return Object.entries(e).forEach(([e,t])=>{t&&s.append(e,t)}),(await c.Ay.get(`/analytics/sales?${s.toString()}`)).data}};var x=t(88565);function h(){let e=()=>{let e=new Date,s=new Date;return s.setDate(s.getDate()-30),{startDate:s.toISOString().split("T")[0],endDate:e.toISOString().split("T")[0]}},[s,t]=(0,a.useState)(e()),d=()=>!s.startDate||!s.endDate||new Date(s.startDate)<=new Date(s.endDate),{data:c,isLoading:h}=(0,o.I)({queryKey:["admin","analytics","dashboard",s],queryFn:()=>{if(!d())throw Error("Start date cannot be after end date");return m.getDashboardAnalytics({startDate:s.startDate||void 0,endDate:s.endDate||void 0})},enabled:d()}),{data:u,isLoading:g}=(0,o.I)({queryKey:["admin","analytics","sales",s],queryFn:()=>{if(!d())throw Error("Start date cannot be after end date");return m.getSalesAnalytics({startDate:s.startDate||void 0,endDate:s.endDate||void 0,period:"daily"})},enabled:d()}),{data:p,isLoading:j}=(0,o.I)({queryKey:["admin","orders","all",s],queryFn:()=>{if(!d())throw Error("Start date cannot be after end date");return x.c.getAllOrders({startDate:s.startDate||void 0,endDate:s.endDate||void 0,limit:15,page:1})},enabled:d()}),v=c?.data,b=u?.data,f=p?.data||[];return(0,r.jsx)(i.A,{requireAdmin:!0,children:(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)(l.A,{}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Date Range Filter"}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-end space-y-4 sm:space-y-0 sm:space-x-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),(0,r.jsx)("input",{type:"date",value:s.startDate,onChange:e=>t(s=>({...s,startDate:e.target.value})),className:`px-3 py-2 border rounded-md focus:outline-none focus:ring-2 ${d()?"border-gray-300 focus:ring-blue-500":"border-red-300 focus:ring-red-500"}`})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),(0,r.jsx)("input",{type:"date",value:s.endDate,onChange:e=>t(s=>({...s,endDate:e.target.value})),className:`px-3 py-2 border rounded-md focus:outline-none focus:ring-2 ${d()?"border-gray-300 focus:ring-blue-500":"border-red-300 focus:ring-red-500"}`})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>t(e()),className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",children:"Last 30 Days"}),(0,r.jsx)("button",{onClick:()=>t({startDate:"",endDate:""}),className:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors",children:"All Time"})]})]}),!d()&&(0,r.jsx)("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-md",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-red-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,r.jsx)("span",{className:"text-sm text-red-600",children:"Start date cannot be after end date. Please adjust your date range."})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,r.jsx)(n(),{href:"/products/add",className:"bg-blue-600 text-white p-6 rounded-lg hover:bg-blue-700 transition-colors",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"w-8 h-8 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"Add Product"}),(0,r.jsx)("p",{className:"text-blue-100",children:"Create new product"})]})]})}),(0,r.jsx)(n(),{href:"/products/manage",className:"bg-green-600 text-white p-6 rounded-lg hover:bg-green-700 transition-colors",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"w-8 h-8 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"Manage Products"}),(0,r.jsx)("p",{className:"text-green-100",children:"Edit & delete products"})]})]})}),(0,r.jsx)(n(),{href:"/orders/manage",className:"bg-purple-600 text-white p-6 rounded-lg hover:bg-purple-700 transition-colors",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"w-8 h-8 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"Manage Orders"}),(0,r.jsx)("p",{className:"text-purple-100",children:"View & update orders"})]})]})}),(0,r.jsx)(n(),{href:"/users/manage",className:"bg-orange-600 text-white p-6 rounded-lg hover:bg-orange-700 transition-colors",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"w-8 h-8 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"Manage Users"}),(0,r.jsx)("p",{className:"text-orange-100",children:"View & manage users"})]})]})})]}),h?(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 animate-pulse",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"p-3 rounded-full bg-gray-200 w-12 h-12"}),(0,r.jsxs)("div",{className:"ml-4 flex-1",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-20 mb-2"}),(0,r.jsx)("div",{className:"h-6 bg-gray-200 rounded w-16"})]})]})},s))}):v?(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"p-3 rounded-full bg-blue-100",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:v.overview.totalOrders})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"p-3 rounded-full bg-green-100",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",v.overview.totalRevenue.toFixed(2)]})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"p-3 rounded-full bg-purple-100",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Products"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:v.overview.totalProducts})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"p-3 rounded-full bg-red-100",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Stock Alerts"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:v.stockAlerts.length})]})]})})]}):null,(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Sales Report"}),g||j?(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 animate-pulse",children:[(0,r.jsx)("div",{className:"h-6 bg-gray-200 rounded w-32 mb-4"}),(0,r.jsx)("div",{className:"h-64 bg-gray-200 rounded"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 animate-pulse",children:[(0,r.jsx)("div",{className:"h-6 bg-gray-200 rounded w-32 mb-4"}),(0,r.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,r.jsx)("div",{className:"h-16 bg-gray-200 rounded"},s))})]})]}):(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Sales Trends"}),b&&b.salesTrends.length>0?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"Orders Overview"}),(0,r.jsx)("div",{className:"space-y-3",children:b.salesTrends.slice(0,7).map((e,s)=>{let t=new Date(e._id.year,(e._id.month||1)-1,e._id.day||1),a=Math.max(...b.salesTrends.map(e=>e.orders)),d=Math.round(.85*e.orders);return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-gray-600",children:t.toLocaleDateString("en-US",{month:"short",day:"numeric"})}),(0,r.jsxs)("span",{className:"text-gray-900 font-medium",children:[e.orders," orders"]})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-xs text-blue-600 w-12",children:"Total"}),(0,r.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${a>0?e.orders/a*100:0}%`}})}),(0,r.jsx)("span",{className:"text-xs text-gray-600 w-8",children:e.orders})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-xs text-green-600 w-12",children:"Paid"}),(0,r.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${a>0?d/a*100:0}%`}})}),(0,r.jsx)("span",{className:"text-xs text-gray-600 w-8",children:d})]})]})]},s)})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"Revenue Trends"}),(0,r.jsx)("div",{className:"space-y-2",children:b.salesTrends.slice(0,7).map((e,s)=>{let t=new Date(e._id.year,(e._id.month||1)-1,e._id.day||1),a=Math.max(...b.salesTrends.map(e=>e.revenue));return(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("span",{className:"text-xs text-gray-600 w-16",children:t.toLocaleDateString("en-US",{month:"short",day:"numeric"})}),(0,r.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-3",children:(0,r.jsx)("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-3 rounded-full",style:{width:`${a>0?e.revenue/a*100:0}%`}})}),(0,r.jsxs)("span",{className:"text-xs text-gray-900 font-medium w-16",children:["$",e.revenue.toFixed(0)]})]},s)})})]})]}):(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("svg",{className:"mx-auto h-16 w-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,r.jsx)("p",{className:"text-gray-500 mt-2",children:"No sales data available for this period"})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"All Orders"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Orders from all customers"})]}),(0,r.jsx)(n(),{href:"/orders/manage",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Manage All →"})]}),f.length>0?(0,r.jsxs)("div",{className:"space-y-3",children:[f.map(e=>(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,r.jsxs)("p",{className:"font-medium text-gray-900",children:["#",e.orderNumber]}),(0,r.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${"delivered"===e.status?"bg-green-100 text-green-800":"shipped"===e.status?"bg-blue-100 text-blue-800":"processing"===e.status?"bg-yellow-100 text-yellow-800":"cancelled"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:e.status})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e.user?.name||"Unknown User"]}),(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4m-6 0h6m-6 0l-1 12a2 2 0 002 2h6a2 2 0 002-2L15 7"})}),e.items.length," item(s)"]}),(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4m-6 0h6m-6 0l-1 12a2 2 0 002 2h6a2 2 0 002-2L15 7"})}),new Date(e.createdAt).toLocaleDateString()]})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"font-bold text-lg text-gray-900",children:["$",e.pricing.total.toFixed(2)]}),(0,r.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${e.paymentInfo?.status==="paid"?"bg-green-100 text-green-700":e.paymentInfo?.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:e.paymentInfo?.status==="paid"?"\uD83D\uDCB3 Paid":e.paymentInfo?.status==="pending"?"⏳ Pending":"❌ Unpaid"})]})]}),e.items.length>0&&(0,r.jsx)("div",{className:"border-t border-gray-100 pt-2 mt-2",children:(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,r.jsxs)("span",{children:[e.items.slice(0,2).map(e=>e.name).join(", "),e.items.length>2&&` +${e.items.length-2} more`]}),(0,r.jsx)("span",{children:e.user?.email||"No email"})]})})]},e._id)),(0,r.jsx)("div",{className:"border-t border-gray-200 pt-3 mt-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,r.jsxs)("span",{children:["Showing ",f.length," recent orders from all customers"]}),(0,r.jsxs)("span",{children:["Total Value: $",f.reduce((e,s)=>e+s.pricing.total,0).toFixed(2)]})]})})]}):(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("svg",{className:"mx-auto h-16 w-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"No orders found"}),(0,r.jsx)("p",{className:"text-gray-500 mt-2",children:"No orders from any customers found for this period"}),(0,r.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Try adjusting the date range or check if there are any orders in the system"})]})]})]})]}),v&&(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Orders by Status"}),(0,r.jsx)("div",{className:"space-y-3",children:Object.entries(v.ordersByStatus).map(([e,s])=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"capitalize text-gray-700",children:e.replace("_"," ")}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${v.overview.totalOrders>0?s.count/v.overview.totalOrders*100:0}%`}})}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-900 w-8",children:s.count})]})]},e))})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold",children:"Recent Activities"}),(0,r.jsx)(n(),{href:"/orders/manage",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View All →"})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[v.recentActivities.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-b-0",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-medium text-gray-900",children:["#",e.orderNumber]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[e.user.name," - ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"font-medium text-gray-900",children:["$",e.pricing.total.toFixed(2)]}),(0,r.jsx)("p",{className:`text-xs px-2 py-1 rounded-full ${"delivered"===e.status?"bg-green-100 text-green-800":"cancelled"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:e.status})]})]},e._id)),0===v.recentActivities.length&&(0,r.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No recent activities"})]})]})]})]})]})})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},57832:(e,s,t)=>{Promise.resolve().then(t.bind(t,80559))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},80559:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Acer\\\\Desktop\\\\ecommerce\\\\frontend\\\\src\\\\app\\\\dashboard\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Acer\\Desktop\\ecommerce\\frontend\\src\\app\\dashboard\\page.tsx","default")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},88565:(e,s,t)=>{"use strict";t.d(s,{c:()=>a});var r=t(71114);let a={createOrder:async e=>(await r.Ay.post("/orders",e)).data,getMyOrders:async(e={})=>{let s=new URLSearchParams;return Object.entries(e).forEach(([e,t])=>{null!=t&&s.append(e,t.toString())}),(await r.Ay.get(`/orders?${s.toString()}`)).data},getOrder:async e=>(await r.Ay.get(`/orders/${e}`)).data,cancelOrder:async(e,s)=>(await r.Ay.put(`/orders/${e}/cancel`,s)).data,getAllOrders:async(e={})=>{let s=new URLSearchParams;return Object.entries(e).forEach(([e,t])=>{null!=t&&s.append(e,t.toString())}),(await r.Ay.get(`/orders/admin/all?${s.toString()}`)).data},updateOrderStatus:async(e,s)=>(await r.Ay.put(`/orders/${e}/status`,s)).data,getUserOrders:async(e={})=>a.getMyOrders(e)}},94735:e=>{"use strict";e.exports=require("events")}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[447,157,658,337,423,476],()=>t(6509));module.exports=r})();