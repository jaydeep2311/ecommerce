(()=>{var e={};e.id=778,e.ids=[778],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6836:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>p});var t=r(60687),a=r(43210),i=r(85814),n=r.n(i),d=r(21891),l=r(20769),o=r(51423),c=r(88565);function p(){let[e,s]=(0,a.useState)({page:1,limit:10}),{data:r,isLoading:i,error:p}=(0,o.I)({queryKey:["orders",e],queryFn:()=>c.c.getMyOrders(e)}),x=e=>{s(s=>({...s,...e,page:1}))},m=e=>{s(s=>({...s,page:e}))},u=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"processing":return"bg-purple-100 text-purple-800";case"shipped":return"bg-indigo-100 text-indigo-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return(0,t.jsx)(l.A,{children:(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)(d.A,{}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Orders"})}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,t.jsxs)("select",{value:e.status||"",onChange:e=>x({status:e.target.value||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"",children:"All Orders"}),(0,t.jsx)("option",{value:"pending",children:"Pending"}),(0,t.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,t.jsx)("option",{value:"processing",children:"Processing"}),(0,t.jsx)("option",{value:"shipped",children:"Shipped"}),(0,t.jsx)("option",{value:"delivered",children:"Delivered"}),(0,t.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]})}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)("button",{onClick:()=>s({page:1,limit:10}),className:"bg-gray-200 text-gray-800 py-2 px-4 rounded-md hover:bg-gray-300 transition-colors",children:"Clear Filters"})})]}),i&&(0,t.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 animate-pulse",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-300 rounded w-1/4"}),(0,t.jsx)("div",{className:"h-6 bg-gray-300 rounded w-20"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-300 rounded w-1/2"}),(0,t.jsx)("div",{className:"h-4 bg-gray-300 rounded w-1/3"})]})]},s))}),p&&(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsx)("p",{className:"text-red-600",children:"Failed to load orders. Please try again."})}),r&&r.data.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"space-y-4",children:r.data.map(e=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Order #",e.orderNumber]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Placed on ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${u(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),(0,t.jsxs)("span",{className:"text-lg font-semibold text-gray-900",children:["$",e.pricing.total.toFixed(2)]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-medium text-gray-900 mb-2",children:["Items (",e.items.length,")"]}),(0,t.jsxs)("div",{className:"space-y-1",children:[e.items.slice(0,3).map((e,s)=>(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[e.name," \xd7 ",e.quantity]},s)),e.items.length>3&&(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["+",e.items.length-3," more items"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Shipping Address"}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,t.jsx)("p",{children:e.shippingAddress.fullName}),(0,t.jsx)("p",{children:e.shippingAddress.street}),(0,t.jsxs)("p",{children:[e.shippingAddress.city,", ",e.shippingAddress.state," ",e.shippingAddress.zipCode]}),(0,t.jsx)("p",{children:e.shippingAddress.country})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:["Payment: ",e.paymentInfo.method.replace("_"," ").toUpperCase()]}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsx)(n(),{href:`/orders/${e._id}`,className:"text-blue-600 hover:text-blue-800 font-medium",children:"View Details"}),e.canBeCancelled&&(0,t.jsx)(n(),{href:`/orders/${e._id}?action=cancel`,className:"text-red-600 hover:text-red-800 font-medium",children:"Cancel Order"})]})]})]},e._id))}),r.pagination&&(0,t.jsx)("div",{className:"flex justify-center mt-8",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[r.pagination.prev&&(0,t.jsx)("button",{onClick:()=>m(r.pagination.prev.page),className:"px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"Previous"}),(0,t.jsxs)("span",{className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:["Page ",e.page]}),r.pagination.next&&(0,t.jsx)("button",{onClick:()=>m(r.pagination.next.page),className:"px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"Next"})]})})]}),r&&0===r.data.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("svg",{className:"mx-auto h-24 w-24 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No orders found"}),(0,t.jsx)("p",{className:"text-gray-600 mb-8",children:"You havent placed any orders yet"}),(0,t.jsx)(n(),{href:"/products",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Start Shopping"})]})]})]})})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11579:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>x,tree:()=>o});var t=r(65239),a=r(48088),i=r(88170),n=r.n(i),d=r(30893),l={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);r.d(s,l);let o={children:["",{children:["orders",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,34346)),"C:\\Users\\Acer\\Desktop\\ecommerce\\frontend\\src\\app\\orders\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"C:\\Users\\Acer\\Desktop\\ecommerce\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\Acer\\Desktop\\ecommerce\\frontend\\src\\app\\orders\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/orders/page",pathname:"/orders",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},12412:e=>{"use strict";e.exports=require("assert")},13525:(e,s,r)=>{Promise.resolve().then(r.bind(r,6836))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20769:(e,s,r)=>{"use strict";r.d(s,{A:()=>n});var t=r(60687);r(43210);var a=r(16189),i=r(42243);function n({children:e,requireAuth:s=!0,requireAdmin:r=!1,redirectTo:n="/auth/login"}){let{isAuthenticated:d,isAdmin:l}=(0,i.As)();return((0,a.useRouter)(),s&&!d)?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):r&&!l?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),(0,t.jsx)("p",{className:"text-gray-600",children:"You dont have permission to access this page."})]})}):(0,t.jsx)(t.Fragment,{children:e})}},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34346:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Acer\\\\Desktop\\\\ecommerce\\\\frontend\\\\src\\\\app\\\\orders\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Acer\\Desktop\\ecommerce\\frontend\\src\\app\\orders\\page.tsx","default")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},71669:(e,s,r)=>{Promise.resolve().then(r.bind(r,34346))},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},88565:(e,s,r)=>{"use strict";r.d(s,{c:()=>a});var t=r(71114);let a={createOrder:async e=>(await t.Ay.post("/orders",e)).data,getMyOrders:async(e={})=>{let s=new URLSearchParams;return Object.entries(e).forEach(([e,r])=>{null!=r&&s.append(e,r.toString())}),(await t.Ay.get(`/orders?${s.toString()}`)).data},getOrder:async e=>(await t.Ay.get(`/orders/${e}`)).data,cancelOrder:async(e,s)=>(await t.Ay.put(`/orders/${e}/cancel`,s)).data,getAllOrders:async(e={})=>{let s=new URLSearchParams;return Object.entries(e).forEach(([e,r])=>{null!=r&&s.append(e,r.toString())}),(await t.Ay.get(`/orders/admin/all?${s.toString()}`)).data},updateOrderStatus:async(e,s)=>(await t.Ay.put(`/orders/${e}/status`,s)).data,getUserOrders:async(e={})=>a.getMyOrders(e)}},94735:e=>{"use strict";e.exports=require("events")}};var s=require("../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[447,157,658,337,423,476],()=>r(11579));module.exports=t})();