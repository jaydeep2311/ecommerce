(()=>{var e={};e.id=538,e.ids=[538],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10734:(e,s,r)=>{"use strict";r.d(s,{d:()=>a});var t=r(71114);let a={getUsers:async(e={})=>(await t.Ay.get("/users",{params:e})).data,getUser:async e=>(await t.Ay.get(`/users/${e}`)).data,createUser:async e=>(await t.Ay.post("/users",e)).data,updateUser:async(e,s)=>(await t.Ay.put(`/users/${e}`,s)).data,deleteUser:async e=>(await t.Ay.delete(`/users/${e}`)).data,restoreUser:async e=>(await t.Ay.put(`/users/${e}/restore`)).data,toggleUserStatus:async e=>(await t.Ay.put(`/users/${e}/toggle-status`)).data}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},16563:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>l});var t=r(65239),a=r(48088),n=r(88170),o=r.n(n),i=r(30893),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);r.d(s,d);let l={children:["",{children:["admin",{children:["users",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,41966)),"C:\\Users\\Acer\\Desktop\\ecommerce\\frontend\\src\\app\\admin\\users\\create\\page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"C:\\Users\\Acer\\Desktop\\ecommerce\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\Acer\\Desktop\\ecommerce\\frontend\\src\\app\\admin\\users\\create\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/users/create/page",pathname:"/admin/users/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20040:(e,s,r)=>{"use strict";r.d(s,{Nu:()=>l,Tk:()=>i,iY:()=>d});var t=r(8693),a=r(54050),n=r(10734),o=r(37590);let i=()=>{let e=(0,t.jE)();return(0,a.n)({mutationFn:n.d.createUser,onSuccess:s=>{e.invalidateQueries({queryKey:["admin","users"]}),o.oR.success(s.message||"User created successfully!")},onError:e=>{let s=e.response?.data?.message||"Failed to create user";o.oR.error(s)}})},d=()=>{let e=(0,t.jE)();return(0,a.n)({mutationFn:n.d.deleteUser,onSuccess:()=>{e.invalidateQueries({queryKey:["admin","users"]}),o.oR.success("User deleted successfully")},onError:e=>{let s=e.response?.data?.message||"Failed to delete user";o.oR.error(s)}})},l=()=>{let e=(0,t.jE)();return(0,a.n)({mutationFn:n.d.toggleUserStatus,onSuccess:s=>{e.invalidateQueries({queryKey:["admin","users"]}),o.oR.success(s.message||"User status updated successfully!")},onError:e=>{let s=e.response?.data?.message||"Failed to update user status";o.oR.error(s)}})}},20769:(e,s,r)=>{"use strict";r.d(s,{A:()=>o});var t=r(60687);r(43210);var a=r(16189),n=r(42243);function o({children:e,requireAuth:s=!0,requireAdmin:r=!1,redirectTo:o="/auth/login"}){let{isAuthenticated:i,isAdmin:d}=(0,n.As)();return((0,a.useRouter)(),s&&!i)?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):r&&!d?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),(0,t.jsx)("p",{className:"text-gray-600",children:"You dont have permission to access this page."})]})}):(0,t.jsx)(t.Fragment,{children:e})}},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34373:(e,s,r)=>{Promise.resolve().then(r.bind(r,41966))},36056:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>u});var t=r(60687),a=r(43210),n=r(16189),o=r(85814),i=r.n(o),d=r(21891),l=r(20769),c=r(20040);function u(){let e=(0,n.useRouter)(),s=(0,c.Tk)(),[r,o]=(0,a.useState)({name:"",email:"",password:"",role:"user",phone:"",address:{street:"",city:"",state:"",zipCode:"",country:""}}),[u,m]=(0,a.useState)(!1),p=e=>{let{name:s,value:r}=e.target;if(s.startsWith("address.")){let e=s.split(".")[1];o(s=>({...s,address:{...s.address,[e]:r}}))}else o(e=>({...e,[s]:r}))},x=async t=>{if(t.preventDefault(),!r.name||!r.email||!r.password)return void alert("Please fill in all required fields");if(r.password.length<6)return void alert("Password must be at least 6 characters long");try{await s.mutateAsync(r),e.push("/admin/users")}catch(e){console.log({error:e})}};return(0,t.jsx)(l.A,{requireAdmin:!0,children:(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)(d.A,{}),(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Create New User"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"Add a new user or administrator to the system"})]}),(0,t.jsx)(i(),{href:"/admin/users",className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"← Back to Users"})]}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-md",children:(0,t.jsxs)("form",{onSubmit:x,className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),(0,t.jsx)("input",{type:"text",name:"name",value:r.name,onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter full name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),(0,t.jsx)("input",{type:"email",name:"email",value:r.email,onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter email address"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:u?"text":"password",name:"password",value:r.password,onChange:p,required:!0,minLength:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10",placeholder:"Enter password (min 6 characters)"}),(0,t.jsx)("button",{type:"button",onClick:()=>m(!u),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u?(0,t.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):(0,t.jsxs)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role *"}),(0,t.jsxs)("select",{name:"role",value:r.role,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"user",children:"User"}),(0,t.jsx)("option",{value:"admin",children:"Administrator"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"admin"===r.role?"Administrators have full access to manage the system":"Regular users can browse and purchase products"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,t.jsx)("input",{type:"tel",name:"phone",value:r.phone,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter phone number"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Address Information (Optional)"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address"}),(0,t.jsx)("input",{type:"text",name:"address.street",value:r.address?.street||"",onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter street address"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),(0,t.jsx)("input",{type:"text",name:"address.city",value:r.address?.city||"",onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter city"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State/Province"}),(0,t.jsx)("input",{type:"text",name:"address.state",value:r.address?.state||"",onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter state or province"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP/Postal Code"}),(0,t.jsx)("input",{type:"text",name:"address.zipCode",value:r.address?.zipCode||"",onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter ZIP or postal code"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),(0,t.jsx)("input",{type:"text",name:"address.country",value:r.address?.country||"",onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter country"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,t.jsx)(i(),{href:"/admin/users",className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{type:"submit",disabled:s.isPending,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:[s.isPending&&(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,t.jsx)("span",{children:s.isPending?"Creating...":"Create User"})]})]})]})})]})]})})}},41966:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Acer\\\\Desktop\\\\ecommerce\\\\frontend\\\\src\\\\app\\\\admin\\\\users\\\\create\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Acer\\Desktop\\ecommerce\\frontend\\src\\app\\admin\\users\\create\\page.tsx","default")},47525:(e,s,r)=>{Promise.resolve().then(r.bind(r,36056))},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},94735:e=>{"use strict";e.exports=require("events")}};var s=require("../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[447,157,658,337,423,476],()=>r(16563));module.exports=t})();